@import 'normalize.less';

// Pallete
// http://www.colourlovers.com/palette/92095/Giant_Goldfish
@black: #252029;
@blue: #69D2E7;
@lightBlue: #A7DBD8;
@orange: #FA6900;
@lightOrange: #F38630;
@cream: #E0E4CC;

/* apply a natural box layout model to all elements, but allowing components to change */
html {
	box-sizing: border-box;
	background: #fff;
	font-family: 'Lato', Helvetica, Arial;
}

*, *:before, *:after {
  box-sizing: inherit;
}

.loading-message {
	position: absolute;
	top: 0;
	left: 0;

	background: @orange;
	padding: 10px;
	z-index: 99;
}

.tile-wrapper {
	text-align: center;
}

.tile {
	padding: 10px;
	//flex: 1 100%;
}

/* tile-group is for containers that have more tiles */
.tile-group {
	.flex-display();

	.tile {
		flex: 1 100%;
		//border: 1px solid lighten(@black, 80%);
		//border-width: 0 0 0 1px;
		&:first-child {
			border-left: 0;
		}
	}
}

.nameHeadline {
	background: @black;
	color: #fff;
	overflow: hidden;

	> * {
		opacity: 0.9;
	}
}

.logo {
	float: left;
}
.tagline {
	float: right;
}

// .siteName {
// 	background: @blue;
// 	color: @black;

// 	h1 {
// 		margin: 0;
// 	}
// }

.selectRiver {
	background: @blue;
	border-bottom: 1px solid @lightBlue;
	overflow-x: auto;
}

#selectRiver {
	background: #fff; // required to change size in webkit
	font-size: 28px;

	.strong {
		cursor: none;
		pointer-events: none;
	}
}

.conditions,
.flowRate,
.recentValueWrapper {
	overflow-y: auto;
	min-height: 125px;
	max-height: 200px;
}

.conditions {
	.scroll-indicator();

	text-align: left;
}

.recentValueWrapper {
	.scroll-indicator();

	text-align: left;

	> * {
		padding: 0 0 5px;
	}
}

.name {
	padding: 0 3px 0 0;
}

.latestTime {
	color: #999;
	background: #eee;
	display: inline-block;
	font-size: 75%;
	padding: 1px 3px;
}

.flowRate {
	position: relative;

	h2 {
		color: @orange;
		display: inline-block;
		font-size: 4em;
		margin: 0;
	}

	abbr {
		color: @lightOrange;
		font-size: 50%;
	}
}

.mapLinkLatLong {
	position: absolute;
	bottom: 0;
	left: 0;
	font-size: 75%;
	padding: 7px 5px;

	a {
		display: inline-block;
		margin: 0 5px 0 0;
	}
}

#graph {
	//background: @cream;
	height: auto;
	/* TODO: test on a phone first */
	/* image-rendering: pixelated; */
	max-width: 100%;
	padding: 0;
}

.images {}

.image-wrapper {
	.flex-display();

	flex-flow: row wrap;
	font-size: 0;

	> * {
		flex: auto;
		height: 135px;
	}

	a {

	}

	// natural horizontal: 240 x 135
	img {
		background-size: cover;
		width: 100%;
		//height: auto;
	}

}


//------  MIXINS ---------

// flex or inline-flex
.flex-display(@display: flex) {
	display: ~"-webkit-@{display}";
	display: ~"-moz-@{display}";
	display: ~"-ms-@{display}box"; // IE10 uses -ms-flexbox
	display: ~"-ms-@{display}"; // IE11
	display: @display;
}

// visual indication of scrollable content
// http://lea.verou.me/2012/04/background-attachment-local/
.scroll-indicator() {
    background:
        /* Shadow covers */
        linear-gradient(white 30%, rgba(255,255,255,0)),
        linear-gradient(rgba(255,255,255,0), white 70%) 0 100%,

        /* Shadows */
        radial-gradient(50% 0, farthest-side, rgba(0,0,0,.2), rgba(0,0,0,0)),
        radial-gradient(50% 100%,farthest-side, rgba(0,0,0,.2), rgba(0,0,0,0)) 0 100%;
    background:
        /* Shadow covers */
        linear-gradient(white 30%, rgba(255,255,255,0)),
        linear-gradient(rgba(255,255,255,0), white 70%) 0 100%,

        /* Shadows */
        radial-gradient(farthest-side at 50% 0, rgba(0,0,0,.2), rgba(0,0,0,0)),
        radial-gradient(farthest-side at 50% 100%, rgba(0,0,0,.2), rgba(0,0,0,0)) 0 100%;
    background-repeat: no-repeat;
    background-color: white;
    background-size: 100% 40px, 100% 40px, 100% 14px, 100% 14px;

    /* Opera doesn't support this in the shorthand */
    background-attachment: local, local, scroll, scroll;
}

//------  Helpers & defaults ---------


abbr {
	font-size: 66%;
}

.hidden {
	display: none!important;
	visibility: hidden!important;
}

//------  Media Queries ------

/* Smartphones (portrait and landscape) ----------- */
@media only screen
and (max-width : 480px) {
	// wrap recent values to next line
	// show conditions and value beside each other
	#selectRiver {
		max-width: 360px;
	}
	.tile-group {
		flex-wrap: wrap;
	}
	.conditions,
	.flowRate {
		//background: pink;
		flex: 2 50% !important;
	}
	.recentValueWrapper {
		min-height: 20px;
		max-height: 160px;
		text-align: center;
	}
}

